<!DOCTYPE html>
<html>
<head>
    <title>Fetch Users Data</title>
    <!-- Include jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="main-user-info">
        <!-- Display main user data here -->
    </div>
    <div id="friends-info">
        <!-- Display friends' data here -->
    </div>

    <script>
        // Define a function to fetch random users asynchronously using async/await
        async function getRandomUsers(numUsers) {
            try {
                const response = await $.ajax({
                    url: `https://randomuser.me/api/?results=${numUsers}`,
                    dataType: 'json'
                });

                return response.results;
            } catch (error) {
                console.error('Error fetching data:', error);
                return [];
            }
        }

        // Function to display user data on the page
        function displayUserData(userData, containerId) {
            const container = $(`#${containerId}`);
            container.empty();

            userData.forEach(user => {
                const { picture, name } = user;
                const fullName = `${name.first} ${name.last}`;
                const image = $('<img>').attr('src', picture.large);
                const userDiv = $('<div>').text(fullName);

                container.append(image, userDiv);
            });
        }

        // Main function to fetch and display user data
        async function fetchAndDisplayUsers() {
            const numUsers = 7;

            try {
                // Fetch random users
                const randomUsers = await getRandomUsers(numUsers);

                // Separate main user and friends
                const mainUser = randomUsers[0];
                const friends = randomUsers.slice(1);

                // Display main user data
                displayUserData([mainUser], 'main-user-info');

                // Display friends' data
                displayUserData(friends, 'friends-info');
            } catch (error) {
                console.error('Error fetching and displaying data:', error);
            }
        }

        // Call the main function when the document is ready
        $(document).ready(fetchAndDisplayUsers);
    </script>
</body>
</html>




